<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://tanviralam.com/26-gcp-essential-infrastructure-monitoring/" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Resource Monitoring - Tanvir's Notes</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Resource Monitoring";
        var mkdocs_page_input_path = "26-gcp-essential-infrastructure-monitoring.md";
        var mkdocs_page_url = "/26-gcp-essential-infrastructure-monitoring/";
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Tanvir's Notes
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Welcome to MkDocs</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../01-linear-algebra-machine-learning/">Linear Algebra for Machine Learning</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../02-git_workflow/">Creating a repo</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../03-python-virtual-environments-with-jupyter/">What are Python Virtual Environments</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../04-ecommerce-payments/">Structure</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../05-pubsub-google-clouds/">05 pubsub google clouds</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../07-tmux/">Tmux</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../08-using-system-clipboard-in-vim/">08 using system clipboard in vim</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../09-padi-openwater-sec1/">09 padi openwater sec1</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../10-padi-openwater-sec2/">10 padi openwater sec2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../11-padi-openwater-sec3/">11 padi openwater sec3</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../12-padi-openwater-sec3-problem-management/">12 padi openwater sec3 problem management</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../13-padi-openwater-sec3-equipment3/">13 padi openwater sec3 equipment3</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../14-padi-openwater-sec3-skills2/">14 padi openwater sec3 skills2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../15-padi-openwater-sec4-equipment4/">15 padi openwater sec4 equipment4</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../16-padi-openwater-sec4-diver4/">16 padi openwater sec4 diver4</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../17-padi-openwater-sec4-divecomputers1/">17 padi openwater sec4 divecomputers1</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../18-padi-openwater-sec4-skills4/">18 padi openwater sec4 skills4</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../19-padi-openwater-sec5-divecomputers2/">19 padi openwater sec5 divecomputers2</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../20-padi-openwater-sec5-diver5/">20 padi openwater sec5 diver5</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../21-padi-sec5-skills5/">21 padi sec5 skills5</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../22-ubuntu-bluetooth-uninstall-reinstall/">22 ubuntu bluetooth uninstall reinstall</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../23-advanced-big-query/">Objectives</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../24-freedomticket-week1-intro-to-selling/">24 freedomticket week1 intro to selling</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../25-gcp-essential-infrastructure-cloud-sql/">Implementing Cloud SQL</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="./">Resource Monitoring</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#objectives">Objectives</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tasks">Tasks</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#task-1-create-a-cloud-monitoring-workspace">Task 1: Create a Cloud Monitoring workspace</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#task-2-custom-dashboards-metric-explorer">Task 2: Custom dashboards, Metric explorer</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#task-3-alerting-policies-notification-channels">Task 3: Alerting policies, Notification channels</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#task-4-resource-groups">Task 4: Resource groups</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#task-5-uptime-monitoring">Task 5: Uptime monitoring</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../27-gcp-elastic-cloud-vpn/">Virtual Private Networks (VPN)</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../28-http-load-balancer/">Configuring an HTTP Load Balancer with Autoscaling</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../29-internal-load-balancer/">Configuring an Internal Load Balancer</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../30-deployment-manager/">Automating the Deployment of Infrastructure Using Deployment Manager</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../31-aws-session/">31 aws session</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../32-gcp-cloud-build/">32 gcp cloud build</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../33-gcp-deploying-kubernetes/">33 gcp deploying kubernetes</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../34-gcp-creating-kubernetes-engine-deployments/">Creating Google Kubernetes Engine Deployments</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../35-gcp-persistent-volume-for-gke/">Configuring persistent volume for Google Kubernetes Engine</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../36-gcloud-basics/">Basic gcloud commands</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../37-migrate-for-anthos/">37 migrate for anthos</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../38-kubectl-basics/">38 kubectl basics</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../39-creating-gke-deployments/">39 creating gke deployments</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../40-data-reliability-conference/">40 data reliability conference</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../41-persistent-storage-gke/">Persistent storage in GKE</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../42-creating-gke-deployments-from-shell/">42 creating gke deployments from shell</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../43-setting-up-react/">Steps to run react in local environment</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../44-redis-with-gcp-cloud-func/">44 redis with gcp cloud func</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Tanvir's Notes</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Resource Monitoring</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="resource-monitoring">Resource Monitoring</h1>
<h2 id="objectives">Objectives</h2>
<p>In this lab, you learn how to perform the following tasks:</p>
<p>Explore Cloud Monitoring</p>
<p>Add charts to dashboards</p>
<p>Create alerts with multiple conditions</p>
<p>Create resource groups</p>
<p>Create uptime checks</p>
<h2 id="tasks">Tasks</h2>
<h3 id="task-1-create-a-cloud-monitoring-workspace">Task 1: Create a Cloud Monitoring workspace</h3>
<p>Multiple projects can be connected to a workspace.</p>
<p>Access to the monitoring workspace will provide access to metrics of all projects connected to the workspace. As a result, we need to create workspaces to manage access of Dev Ops by project. </p>
<h3 id="task-2-custom-dashboards-metric-explorer">Task 2: Custom dashboards, Metric explorer</h3>
<h3 id="task-3-alerting-policies-notification-channels">Task 3: Alerting policies, Notification channels</h3>
<p>Its better to alert for symptoms instead of errors.</p>
<p>Email, slack channel, pub/sub, webhooks etc. </p>
<h3 id="task-4-resource-groups">Task 4: Resource groups</h3>
<p>Can make groups of resources based on name, type, labels, etc.</p>
<h3 id="task-5-uptime-monitoring">Task 5: Uptime monitoring</h3>
<p>Check uptime at a set interval.</p>
<h1 id="error-reporting-and-debugging">Error Reporting and Debugging</h1>
<h2 id="objectives_1">Objectives</h2>
<p>In this lab, you learn how to perform the following tasks:</p>
<p>Launch a simple Google App Engine application</p>
<p>Introduce an error into the application</p>
<p>Explore Cloud Error Reporting</p>
<p>Use Cloud Debugger to identify the error in the code</p>
<p>Fix the bug and monitor in Cloud Operations</p>
<h3 id="task-1-create-an-application">Task 1: Create an application</h3>
<h4 id="get-and-test-the-application">Get and test the application</h4>
<p>In the Cloud Console, launch Cloud Shell by clicking Activate Cloud Shell ( 857dc9d7dd799cb2.png). If prompted, click Continue.</p>
<p>To create a local folder and get the App Engine Hello world application, run the following commands:</p>
<pre><code>mkdir appengine-hello
cd appengine-hello
gsutil cp gs://cloud-training/archinfra/gae-hello/* .
</code></pre>
<p>To run the application using the local development server in Cloud Shell, run the following command:</p>
<pre><code>dev_appserver.py $(pwd)
</code></pre>
<p>In Cloud Shell, click Web Preview &gt; Preview on port 8080 to view the application. You may have to collapse the Navigation menu pane to access the Web Preview icon.</p>
<p>In Cloud Shell, press Ctrl+C to exit the development server.</p>
<h4 id="deploy-the-application-to-app-engine">Deploy the application to App Engine</h4>
<p>To deploy the application to App Engine, run the following command:</p>
<pre><code>gcloud app deploy app.yaml
</code></pre>
<p>If prompted for a region, enter the number corresponding to a region.</p>
<p>When prompted, type Y to continue.</p>
<p>When the process is done, verify that the application is working by running the following command:</p>
<pre><code>gcloud app browse
</code></pre>
<h4 id="introduce-an-error-to-break-the-application">Introduce an error to break the application</h4>
<p>To examine the main.py file, run the following command:</p>
<pre><code>cat main.py
</code></pre>
<p>To use the sed stream editor to change the import library to the nonexistent webapp22, run the following command:</p>
<pre><code>sed -i -e 's/webapp2/webapp22/' main.py
</code></pre>
<p>To verify the change you made in the main.py file, run the <code>cat main.py</code> again.</p>
<h4 id="re-deploy-the-application-to-app-engine">Re-deploy the application to App Engine</h4>
<p>To re-deploy the application to App Engine, run the following command:</p>
<pre><code>gcloud app deploy app.yaml --quiet
</code></pre>
<pre><code>The --quiet flag disables all interactive prompts when running gcloud commands. If input is required, defaults will be used. In this case, it avoids the need for you to type Y when prompted to continue the deployment.
</code></pre>
<p>When the process is done, verify that the application is broken by running the following command:</p>
<pre><code>gcloud app browse
</code></pre>
<p>If Cloud Shell does not detect your browser, click the link in the Cloud Shell output to view your app.</p>
<p>If needed, press Ctrl+C to exit development mode.</p>
<p>Leave Cloud Shell open.</p>
<h3 id="task-2-explore-cloud-error-reporting">Task 2: Explore Cloud Error Reporting</h3>
<h4 id="view-error-reporting-and-trigger-additional-errors">View Error Reporting and trigger additional errors</h4>
<p>In the Cloud Console, on the Navigation menu ( 7a91d354499ac9f1.png), click Error Reporting.</p>
<p>You should see an error regarding the failed import of webapp22.</p>
<p>Click Auto reload.</p>
<p>In Cloud Shell, run the following command:</p>
<pre><code>gcloud app browse
</code></pre>
<p>Click the link several times to generate more errors.</p>
<h4 id="view-details-and-identify-the-cause">View details and identify the cause</h4>
<p>Click the Error name: ImportError: No module named webapp22.</p>
<p>Now you can see a detailed graph of the errors. The Response Code field shows the explicit error: a 500 Internal Server Error.</p>
<p>For Stack trace sample, click Parsed. This opens the Cloud Debugger, showing the error in the code!</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../25-gcp-essential-infrastructure-cloud-sql/" class="btn btn-neutral float-left" title="Implementing Cloud SQL"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../27-gcp-elastic-cloud-vpn/" class="btn btn-neutral float-right" title="Virtual Private Networks (VPN)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../25-gcp-essential-infrastructure-cloud-sql/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../27-gcp-elastic-cloud-vpn/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
